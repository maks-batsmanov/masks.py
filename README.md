# Виджет банковских операций

## Описание:

Виджет имеет возможность отображать несколько 
последних успешных операций клиента. 

## Установка:

1. Клонируйте репозиторий:
```
git clone https://github.com/maks-batsmanov/masks.py.git
```
2. Установите зависимости:
```
pip install -r requirements.txt
```
## Примеры работы функций:
+ Функция **filter by state** принимает список словарей и опционально значение для ключа **state**
(по умолчанию 'EXECUTED'). Функция возвращает новый список словарей, содержащий только те словари, 
у которых ключ **state** соответствует указанному значению.

Пример входных данных:

```
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, 
{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
```
Пример выхода функции со статусом по умолчанию 'EXECUTED':

```
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
```

Пример выхода функции, если вторым аргументов передано 'CANCELED':
```
[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
```

+ Функция **sort by date** принимает список словарей, 
и возвращает новый список, отсортированный по дате.


+ Функция **get mask card number** принимает на вход номер карты и возвращает ее маску. 
Номер карты замаскирован и отображается в формате:
```
XXXX XX** **** XXXX
```
Где X — это цифра номера. То есть видны первые 6 цифр и последние 4 цифры, остальные символы отображаются звездочками.


+ Функция **get mask account** принимает на вход номер счета и возвращает его маску. 
Номер счета замаскирован и отображается в формате:
```
**XXXX
```
Где X — это цифра номера. То есть видны только последние 4 цифры номера, а перед ними — две звездочки.


+ Функция **mask_account_card** умеет обрабатывать информацию как о картах, так и о счетах.
В зависимости от поступившей информации (карта или счет) передает данные одной из функций: **get mask account** или **get mask card number**.


+ Функция **get date** принимает на вход строку с датой в формате 
"*2024-03-11T02:26:18.671407*" и возвращает строку с датой в формате "*ДД.ММ.ГГГГ*" ("*11.03.2024*").

+ Функция **filter by currency** принимает на вход список словарей и ключ. Функция возвращает итератор,
который поочередно выдает транзакции, где валюта операции соответствует коду указанному в ключе (например, USD)

* Генераторная функция **transaction descriptions** принимает список словарей с транзакциями и по очереди возвращает описание каждой операции.

* Генераторная функция **card number generator** выдает номера банковских карт в формате:
```
XXXX XXXX XXXX XXXX
```
Фунция может сгенерировать номера карт в заданном диапазоне от 0000 0000 0000 0001 до 9999 9999 9999 9999.
Принимает начальное и конечное значения для генерации диапазона номеров.

## Тестирование

Код покрыт юнит-тестами на 98%. При тестировании использовались фикстуры и параметризация. 
Для запуска тестов необходимо перейти в терминал и ввести команду:
```
pytest
```

## Лицензия:

Этот проект лицензирован по [лицензии MIT](LICENSE).
